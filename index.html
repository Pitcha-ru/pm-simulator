<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PM Simulator - Task Board Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loader"></div>
        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã...</p>
    </div>

    <!-- Start Screen -->
    <div id="start-screen" class="start-screen hidden">
        <div class="start-panel">
            <h1 class="game-logo">üéÆ PM Simulator</h1>
            <p class="game-subtitle">–†–∞—Å–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ –∑–∞–¥–∞—á–∏ –ø–æ –æ—Ç–¥–µ–ª–∞–º</p>
            
            <div class="start-form">
                <label for="player-name-input" class="input-label">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è:</label>
                <input 
                    type="text" 
                    id="player-name-input" 
                    class="player-name-input" 
                    placeholder="–í–∞—à–µ –∏–º—è"
                    maxlength="20"
                    autocomplete="off"
                />
                <button id="start-game-button" class="btn-primary btn-large">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
            </div>
            
            <div class="start-leaderboard">
                <h3 class="leaderboard-title">üèÜ –¢–æ–ø-5 –∏–≥—Ä–æ–∫–æ–≤</h3>
                <div id="start-leaderboard-list" class="leaderboard-list">
                    <p class="empty-leaderboard">–ü–æ–∫–∞ –Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Error Screen -->
    <div id="error-screen" class="error-screen hidden">
        <div class="error-panel">
            <h2>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</h2>
            <p id="error-message"></p>
            <button id="retry-button" class="btn-primary">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É</button>
        </div>
    </div>

    <!-- Game Over Screen -->
    <div id="gameover-screen" class="gameover-screen hidden">
        <div class="gameover-panel">
            <h1 class="gameover-title">–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!</h1>
            
            <div class="player-result">
                <p id="player-name-display" class="player-name">–ò–≥—Ä–æ–∫</p>
                <p id="player-rank-display" class="player-rank">–ú–µ—Å—Ç–æ: #1</p>
            </div>
            
            <div class="gameover-stats">
                <div class="stat-item">
                    <span class="stat-label">–§–∏–Ω–∞–ª—å–Ω—ã–π —Å—á—ë—Ç</span>
                    <span id="final-score" class="stat-value">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">–î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å</span>
                    <span id="final-level" class="stat-value">1</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">–ó–∞–¥–∞—á –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</span>
                    <span id="final-tasks" class="stat-value">0</span>
                </div>
            </div>
            
            <div class="gameover-leaderboard">
                <h3 class="leaderboard-title">üèÜ –¢–æ–ø-5 –∏–≥—Ä–æ–∫–æ–≤</h3>
                <div id="gameover-leaderboard-list" class="leaderboard-list"></div>
            </div>
            
            <button id="restart-button" class="btn-primary btn-large">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
        </div>
    </div>

    <!-- Game Container -->
    <div id="game-container" class="game-container hidden">
        <!-- Top Header -->
        <header class="top-header">
            <!-- Author Event Panel -->
            <div class="author-panel">
                <div class="author-avatar-wrapper">
                    <img id="author-avatar" src="" alt="Author" class="author-avatar">
                </div>
                <div class="author-info">
                    <div id="author-name" class="author-name">–ê–≤—Ç–æ—Ä</div>
                    <div class="speech-bubble">
                        <p id="author-message" class="author-message"></p>
                    </div>
                </div>
            </div>

            <!-- Scoreboard -->
            <div class="scoreboard">
                <div class="score-item">
                    <span class="label">–û—á–∫–∏:</span>
                    <span id="score-value" class="value">0</span>
                </div>
                <div class="score-item">
                    <span class="label">–£—Ä–æ–≤–µ–Ω—å:</span>
                    <span id="level-value" class="value">1</span>
                </div>
                <div class="score-item streak-display">
                    <span class="label">–°–µ—Ä–∏—è:</span>
                    <span id="streak-value" class="value">x1.00</span>
                </div>
                <div class="score-item lives-display">
                    <span class="label">–ñ–∏–∑–Ω–∏:</span>
                    <span id="lives-value" class="value">‚ù§Ô∏è 3</span>
                </div>
            </div>
        </header>

        <!-- Center Board Area -->
        <main class="board-area">
            <div class="board-background">
                <!-- Task Cards Container (dynamic) -->
                <div id="tasks-container" class="tasks-container">
                    <!-- Task cards will be dynamically inserted here -->
                </div>

                <!-- Success/Fail Feedback -->
                <div id="feedback-message" class="feedback-message hidden"></div>
            </div>
        </main>

        <!-- Bottom Departments Dock -->
        <footer class="departments-dock">
            <div id="departments-container" class="departments-container">
                <!-- Department blocks will be dynamically inserted here -->
            </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script type="module" src="js/main.js"></script>
</body>
</html>

